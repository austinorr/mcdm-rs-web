function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const i of e.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function n(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?e.credentials="include":t.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(t){if(t.ep)return;t.ep=!0;const e=n(t);fetch(t.href,e)}})();const x="modulepreload",T=function(r,l){return new URL(r,l).href},L={},v=function(l,n,a){let t=Promise.resolve();if(n&&n.length>0){const e=document.getElementsByTagName("link");t=Promise.all(n.map(i=>{if(i=T(i,a),i in L)return;L[i]=!0;const s=i.endsWith(".css"),o=s?'[rel="stylesheet"]':"";if(!!a)for(let u=e.length-1;u>=0;u--){const f=e[u];if(f.href===i&&(!s||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${o}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":x,s||(d.as="script",d.crossOrigin=""),d.href=i,document.head.appendChild(d),s)return new Promise((u,f)=>{d.addEventListener("load",u),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${i}`)))})}))}return t.then(()=>l()).catch(e=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=e,window.dispatchEvent(i),!i.defaultPrevented)throw e})};let h,m=[],_,g,c,y,b=!1;function O(r,l){let n=r.toSorted((t,e)=>e-t).slice(0,l),a=[];for(const t in r)a.length<l&&n.includes(r[t])&&a.push({ix:t,val:r[t]});return a.sort((t,e)=>e.val-t.val).map(t=>t.ix)}async function P(){let r=Object.assign(document.createElement("div"),{style:"margin: 1em 0 1em 0",id:"loaded-data-notes"});r.innerHTML=`<b>${g.length.toLocaleString()}</b> records loaded. `;let l=c.length*c[0].length*c[0].length;r.innerHTML+=`Computing <b>${l.toLocaleString()}</b> pairwise comparisons.`;let n=document.getElementById("data_summary");n.innerHTML=E(_.map(a=>a.slice(1))),n.append(r)}function E(r){let l="<table>";for(const n in r){l+="<tr>";for(const a in r[n])l+="<td>"+r[n][a]+"</td>";l+="</tr>"}return l+="</table>",l}async function $(){m=_.map(n=>Number(n[2])).slice(1);let r=document.getElementById("slidecontainer");r.innerHTML="";let l=Object.assign(document.createElement("div"),{style:"display: flex; justify-content: left; padding: 0.5em;"});l.innerHTML="<b>Adjust Criteria Weights</b>",r.append(l);for(const n in c){let a=Object.assign(document.createElement("div"),{style:"display: flex; align-content: center; padding: 0.5em;"}),t=Object.assign(document.createElement("label"),{id:`weight_l_${n}}`,for:`weight_i_${n}`,style:"display: inline-block; width: 200px; justify-content:center"}),e=Object.assign(document.createElement("span"),{id:`weight_v_${n}}`});e.setAttribute("id",`weight_v_${n}}`);let i=Object.assign(document.createElement("input"),{id:`weight_i_${n}`,name:`weight_i_${n}`,type:"range",min:"0.0",max:"5",step:.1,class:"slider",data_index:`${n}`});i.value=m[n];let s=y[parseInt(n)+1];t.innerHTML=s,e.innerHTML=`${i.value}`,i.oninput=function(){let o=parseInt(this.data_index);e.innerHTML=`${this.value}`,m[o]=parseFloat(this.value),w()},i.addEventListener("wheel",function(o){o.deltaY<0?this.value=(parseFloat(this.value)+parseFloat(this.step)).toString():this.value=(parseFloat(this.value)-parseFloat(this.step)).toString();let p=parseInt(this.data_index);e.innerHTML=`${this.value}`,m[p]=parseFloat(this.value),w(),o.preventDefault(),o.stopPropagation()}),a.append(t,i,e),r.append(a)}}async function w(){b||($(),b=!0);let r,l;r=performance.now(),h.re_weight(m),l=performance.now(),console.log(`ms: ${(l-r).toPrecision(4)}`);let n=h.get_score(),a=O(n,10),t=[[...y,"Score"]];for(const i of a){let s=[...g[i]];s.push(n[i]),t.push(s.map((o,p)=>p===0?parseInt(o):parseFloat(o).toLocaleString("en",{maximumFractionDigits:3})))}let e=document.getElementById("results_table");e.innerHTML="",e.innerHTML=E(t)}async function M(r=10){const{criteria:l,data_long:n,transpose:a}=await v(()=>import("./data-DUeAEcyd.js"),__vite__mapDeps([]),import.meta.url);y=n[0].map(e=>e.trim().replaceAll("_"," ").split(" ").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join(" ")),_=l,g=n.slice(1,r+1).filter(e=>e.length>1),c=a(g.map(e=>e.slice(1)));let t=a(_).slice(2).map(e=>e.slice(1));try{let{PromJS:e}=await v(()=>import("./mcdmrs_wasm-Di4B3_cp.js"),__vite__mapDeps([]),import.meta.url);h=new e(c.flat(),c[0].length,c.length,...t)}catch(e){alert(e);return}P()}function S(){document.getElementById("compute_prom_ii").addEventListener("click",async()=>{h&&await w()})}async function H(){let{default:r,initThreadPool:l,init_panic_hook:n}=await v(()=>import("./mcdmrs_wasm-Di4B3_cp.js"),__vite__mapDeps([]),import.meta.url);await r(void 0),await l(Math.max(Math.ceil(navigator.hardwareConcurrency/2),2)),n(),S()}H();window.load_data=M;export{v as _};
