function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const e of r.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&a(e)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();const x="modulepreload",T=function(l,n){return new URL(l,n).href},b={},w=function(n,t,a){let i=Promise.resolve();if(t&&t.length>0){const r=document.getElementsByTagName("link");i=Promise.all(t.map(e=>{if(e=T(e,a),e in b)return;b[e]=!0;const o=e.endsWith(".css"),s=o?'[rel="stylesheet"]':"";if(!!a)for(let u=r.length-1;u>=0;u--){const h=r[u];if(h.href===e&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${e}"]${s}`))return;const d=document.createElement("link");if(d.rel=o?"stylesheet":x,o||(d.as="script",d.crossOrigin=""),d.href=e,document.head.appendChild(d),o)return new Promise((u,h)=>{d.addEventListener("load",u),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${e}`)))})}))}return i.then(()=>n()).catch(r=>{const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=r,window.dispatchEvent(e),!e.defaultPrevented)throw r})};let p,m=[],_,g,c,y,L=!1;function P(l,n){let t=l.toSorted().slice(-n),a=[],i=0,r=l.length;for(;i<r;){const e=l[i];if(a.length<n&&t.includes(e)&&a.push({ix:i,val:e}),a.length==n)break;i++}return a.sort((e,o)=>o.val-e.val).map(e=>e.ix)}async function $(){let l=Object.assign(document.createElement("div"),{style:"margin: 1em 0 1em 0",id:"loaded-data-notes"});l.innerHTML=`<b>${g.length.toLocaleString()}</b> records loaded. `;let n=c.length*c[0].length*c[0].length;l.innerHTML+=`Computing <b>${n.toLocaleString()}</b> pairwise comparisons.`;let t=document.getElementById("data_summary");t.innerHTML=E(_.map(a=>a.slice(1))),t.append(l)}function E(l){let n="<table>";for(const t in l){n+="<tr>";for(const a in l[t])n+="<td>"+l[t][a]+"</td>";n+="</tr>"}return n+="</table>",n}async function O(){m=_.map(t=>Number(t[2])).slice(1);let l=document.getElementById("slidecontainer");l.innerHTML="";let n=Object.assign(document.createElement("div"),{style:"display: flex; justify-content: left; padding: 0.5em;"});n.innerHTML="<b>Adjust Criteria Weights</b>",l.append(n);for(const t in c){let a=Object.assign(document.createElement("div"),{style:"display: flex; align-content: center; padding: 0.5em;"}),i=Object.assign(document.createElement("label"),{id:`weight_l_${t}}`,for:`weight_i_${t}`,style:"display: inline-block; width: 200px; justify-content:center"}),r=Object.assign(document.createElement("span"),{id:`weight_v_${t}}`});r.setAttribute("id",`weight_v_${t}}`);let e=Object.assign(document.createElement("input"),{id:`weight_i_${t}`,name:`weight_i_${t}`,type:"range",min:"0.0",max:"5",step:.1,class:"slider",data_index:`${t}`});e.value=m[t];let o=y[parseInt(t)+1];i.innerHTML=o,r.innerHTML=`${e.value}`,e.oninput=function(){let s=parseInt(this.data_index);r.innerHTML=`${this.value}`,m[s]=parseFloat(this.value),v()},e.addEventListener("wheel",function(s){s.deltaY<0?this.value=(parseFloat(this.value)+parseFloat(this.step)).toString():this.value=(parseFloat(this.value)-parseFloat(this.step)).toString();let f=parseInt(this.data_index);r.innerHTML=`${this.value}`,m[f]=parseFloat(this.value),v(),s.preventDefault(),s.stopPropagation()}),a.append(i,e,r),l.append(a)}}async function v(){L||(O(),L=!0);let l,n;l=performance.now(),p.re_weight(m),n=performance.now(),console.log(`ms: ${(n-l).toPrecision(4)}`);let t=p.get_score();l=performance.now();let a=P(t,20);n=performance.now(),console.log(`max ix ms: ${(n-l).toPrecision(4)}`);let i=[[...y,"Score"]];for(const e of a){let o=[...g[e]];o.push(t[e]),i.push(o.map((s,f)=>f===0?parseInt(s):parseFloat(s).toLocaleString("en",{maximumFractionDigits:3})))}let r=document.getElementById("results_table");r.innerHTML="",r.innerHTML=E(i)}async function M(l=10){const{criteria:n,data_long_builder:t,transpose:a}=await w(()=>import("./data-Chm6Pblm.js"),__vite__mapDeps([]),import.meta.url),{PromJS:i}=await w(()=>import("./mcdmrs_wasm-3yoLPJpC.js"),__vite__mapDeps([]),import.meta.url),r=t(5e4);y=r[0].map(o=>o.trim().replaceAll("_"," ").split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(" ")),_=n,g=r.slice(1,l+1).filter(o=>o.length>1),c=a(g.map(o=>o.slice(1)));let e=a(_).slice(2).map(o=>o.slice(1));try{p=null,p=new i(c.flat(),c[0].length,c.length,...e)}catch(o){alert(o);return}$()}function S(){document.getElementById("compute_prom_ii").addEventListener("click",async()=>{p&&await v()})}async function H(){let{default:l,initThreadPool:n,init_panic_hook:t}=await w(()=>import("./mcdmrs_wasm-3yoLPJpC.js"),__vite__mapDeps([]),import.meta.url);await l(void 0),t(),await n(Math.max(Math.ceil(navigator.hardwareConcurrency/2),2)),S()}H();window.load_data=M;export{w as _};
